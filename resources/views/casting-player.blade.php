@extends('layouts.layout')

@section('title') {{ '— ' . 'Player' }} @endsection

@section('content')

<style>
    iframe { background: #191818;!important; }

    @media (min-width: 40em) { 
        iframe {
            background: #191818;!important;
            height: calc(100vh - 8rem);
        }
    }

    @media (max-width: 800px) {
        /* .player-height { min-height: 50vh; } */
    }
</style>

{{-- alert('navState =' + $event.detail.state + '| navOpenFlag = ' + navOpenFlag) --}}
{{-- Nav chico / Int. Observer controla cuando aparece --}}
<div 
    x-data=" { navOpenFlag: false } "
    @nav-toggled.window="$event.detail.state? navOpenFlag = true : navOpenFlag = false;"
    @keydown.escape.window = "navOpenFlag? navOpenFlag : $refs.backBtn.click() "
    class="w-full pt-24 text-saigon-black lg:pt-0">
    <div class="z-10 items-baseline justify-between px-3.5 lg:px-0 py-6 pt-8 lg:w-10/12 lg:flex">
        <a href="{{ route('index', app()->getLocale()) }}" class="hidden ml-8 logo-fixed lg:block">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1506 241" xml:space="preserve"><g fill="#191919"><path d="M187.6 152c-8.1-6.9-18.3-11.7-30.4-14.6-12.2-2.9-28.4-5.6-48.8-8.1-22.9-3-41.3-6.2-55.2-9.8-13.9-3.5-25.7-9.8-35.4-18.7C8 91.8 3.1 79.1 3.1 62.6c0-21.8 9.8-37.7 29.4-47.6C52.1 5 78.6 0 112.1 0c33.7 0 59.6 4.6 77.7 13.8 18.1 9.2 29 25.2 32.7 48.1h-34.4c-3-18.1-10.6-31.5-22.9-40.2-12.2-8.7-30-13.1-53.1-13.1-26.1 0-46.2 4-60.3 12-14.1 8-21.1 19.7-21.1 35.1 0 11.7 3.9 20.7 11.7 27 7.8 6.3 17.5 10.8 29.2 13.4 11.7 2.6 27.4 5.1 47.1 7.4 23.6 2.8 42.6 5.9 56.9 9.5 14.3 3.6 26.5 10.1 36.6 19.6 10.1 9.5 15.1 23.1 15.1 40.7 0 44.9-36.6 67.4-109.7 67.4-35.5 0-63.2-5.3-82.9-15.8C15 214.3 3.4 197.5 0 174.3h34.4c3.7 19 11.9 33.4 24.8 43.2 12.8 9.7 32.3 14.6 58.5 14.6 25.7 0 45.8-4.3 60.3-12.9 14.6-8.6 21.8-21.3 21.8-38 0-12.6-4.1-22.3-12.2-29.2M432.2 160.5H304L271 239h-24.4L362.4 1.8h32.7L502.4 239h-35.8l-34.4-78.5zm-4.8-10.5L366.5 11.5 308.4 150h119zM541.9 1.8h30.9V239h-30.9zM848.3 211.8c-22.7 19.3-53.8 28.9-93.2 28.9-28 0-51.6-4.9-71-14.8s-33.9-23.8-43.5-42c-9.6-18.1-14.4-39.3-14.4-63.6 0-24.3 4.8-45.5 14.4-63.6 9.6-18.1 24.1-32.1 43.5-42 19.4-9.9 43-14.8 71-14.8C789 0 817 7 839 21c22 14 35.9 35.6 41.6 65h-35.8c-5-24.5-14.9-43.6-29.6-57.1C800.5 15.4 780.5 8.6 755 8.6c-31.9 0-55.6 10.3-71.2 30.9-15.6 20.6-23.4 47.6-23.4 80.8 0 33.2 7.8 60.2 23.4 80.8 15.6 20.6 39.3 30.9 71.2 30.9 28.2 0 50.1-8.4 65.8-25.1 15.7-16.7 24.8-38.7 27.3-66H747.9v-10.3h135.8c-.9 34.9-12.7 62-35.4 81.2M985.6 225.7c-19.4-10-34.1-24-44.2-42.1-10.1-18.1-15.1-39.2-15.1-63.3 0-24.1 5-45.2 15.1-63.3 10.1-18 24.9-32.1 44.2-42 19.4-10 42.6-15 69.6-15 27 0 50.3 5 69.6 15 19.4 10 34.1 24 44.2 42.1 10.1 18.1 15.1 39.2 15.1 63.3 0 24.1-5 45.2-15.1 63.3-10.1 18.1-24.8 32.1-44.2 42.1-19.4 10-42.6 15-69.6 15-27-.1-50.2-5.1-69.6-15.1m-1.2-186.2c-15.8 20.6-23.7 47.6-23.7 80.8 0 33 7.7 59.9 23 80.6 15.4 20.8 38.7 31.1 70.1 31.1 32.3 0 56.4-10.3 72.2-30.9 15.8-20.6 23.7-47.6 23.7-80.8 0-33-7.7-59.9-23-80.6-15.4-20.7-38.7-31.1-70.1-31.1-32.3 0-56.3 10.3-72.2 30.9M1449.7 1.8v237.1h-35.1L1249.5 23.4v215.5h-12V1.8h35.1l165 215.5V1.8zM1497.6 16.3c-.5 2.2-2.6 3.8-5 3.8-3.3 0-5.8-2.7-5.8-6.3 0-3.4 2.6-6.1 5.8-6.1 2.4 0 4.5 1.5 5 3.6v.1h1.8v-.2c-.6-3.1-3.5-5.3-6.8-5.3-4.3 0-7.6 3.5-7.6 7.9 0 4.5 3.3 8.1 7.6 8.1 3.4 0 6.3-2.3 6.9-5.5v-.2h-1.9v.1z"/><path d="M1492.5.8c-7.2 0-13 5.9-13 13.1 0 7.2 5.8 13.1 13 13.1s13.1-5.9 13.1-13.1c0-7.2-5.9-13.1-13.1-13.1m.1 24.5c-6.2 0-11.2-5.1-11.2-11.3s5-11.3 11.2-11.3c6.2 0 11.2 5.1 11.2 11.3s-5 11.3-11.2 11.3"/></g></svg>
        </a>
        <div class="flex flex-col-reverse items-end lg:items-center lg:flex-row">
            <div class="flex flex-col-reverse items-end justify-end gap-3 text-right lg:items-baseline lg:flex-row lg:text-left saigon-text-400 lg:ml-8">
                <div>
                    <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4.5" viewBox="0 0 27 32" xml:space="preserve"><path fill="none" stroke="#191818" stroke-width="2" stroke-miterlimit="10" d="m26.3 18-13 13L.4 18M13.4 0v31"></path></svg>
                </div>
                <h1>
                    <span class="uppercase">{{$casting['nombre']}}</span> 
                    <span class="hidden lg:inline"> — </span>
                    <span class="block lg:inline">{{$casting['director']}}</span> 
                    <span class="hidden lg:inline"> | </span>
                    <span class="block lg:inline">{{$casting['productora']}}</span>
                </h1>
            </div>
            <div class="mb-4 lg:ml-3 lg:mb-0">
                <a x-ref="backBtn" href="{{$casting->getWebUrl()}}/" class="text-transparent hover:text-saigon-black">
                    <svg class="w-4.5 h-4.5 transition-colors duration-150 ease-in cursor-pointer" version="1.1" id="Layer_1" x="0" y="0" viewBox="0 0 24 24" xml:space="preserve"><path fill="currentColor" class="stroke-saigon-black hover:stroke-saigon-white" stroke-miterlimit="10" d="M.5.5h22.45v22.45H.5zM16.91 16.91 6.54 6.54M6.54 16.91 16.91 6.54"/></svg>
                </a>
            </div>
        </div>
    </div>
    <div class="lg:pl-8 lg:w-10/12 player-height pb-20 lg:pb-0 pl-3.5 pr-3.5 lg:pr-0">
        <iframe src="https://player.vimeo.com/video/560869834" class="w-full aspect-video rounded-2xl" frameborder="0" allow="autoplay; fullscreen" allow></iframe>
        {{-- @if (Str::contains($casting['url'] , 'vimeo'))
            <iframe src="https://player.vimeo.com/video/560869834" class="w-full aspect-video rounded-2xl" frameborder="0" allow="autoplay; fullscreen" allow></iframe>
        @else
            <div class="overflow-hidden yt-iframe-container rounded-2xl">
                <iframe src="{{$casting['url']}}" title="YouTube video player aspect-video" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            </div>        
        @endif --}}
    
    </div>
    
</div>

<div 
    x-cloak 
    x-data=" { st:false, show: $persist(true).using(sessionStorage), } "
    x-show="show && st"
    x-init="setTimeout(() => st = true, 2500)"
    x-transition:enter="transition ease-out duration-300"
        x-transition:enter-start="opacity-0 translate-y-full"
        x-transition:enter-end="opacity-100 translate-y-0"
        x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100 translate-y-0"
        x-transition:leave-end="opacity-0 translate-y-full"
    class="fixed bottom-0 left-0 z-50 w-full text-saigon-white bg-saigon-black">
    
    <div x-on:click="show = false" class="absolute z-50 text-transparent cursor-pointer right-4 lg:right-6 top-6 hover:text-saigon-white">
        <svg class="w-4.5 h-4.5 transition-colors duration-150 ease-in cursor-pointer" version="1.1" id="Layer_1" x="0" y="0" viewBox="0 0 24 24" xml:space="preserve"><path fill="currentColor" class="hover:stroke-saigon-black stroke-saigon-white" stroke-miterlimit="10" d="M.5.5h22.45v22.45H.5zM16.91 16.91 6.54 6.54M6.54 16.91 16.91 6.54"/></svg>
    </div>
    <div class="relative flex flex-col items-center gap-2 py-8 text-center lg:mx-auto lg:flex-row lg:w-max">
        <svg class="w-44" version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" x="0" y="0" viewBox="0 0 205.15 30.85" xml:space="preserve"><g fill="#F2F2F2"><path d="M13.08 3.76C12.04 3 10.71 2.63 9.09 2.63c-.66 0-1.3.07-1.94.2-.63.13-1.2.35-1.69.66-.49.29-.88.71-1.18 1.22-.3.51-.44 1.15-.44 1.92 0 .72.21 1.31.64 1.76.43.45 1 .82 1.71 1.1.71.28 1.51.51 2.41.7.9.19 1.81.39 2.74.61.93.22 1.84.48 2.74.77.9.3 1.7.69 2.41 1.2.71.5 1.28 1.14 1.71 1.9.43.77.64 1.73.64 2.89 0 1.25-.28 2.31-.84 3.2-.56.89-1.27 1.61-2.15 2.17-.88.56-1.85.96-2.94 1.21-1.08.25-2.16.38-3.23.38-1.31 0-2.55-.16-3.72-.49-1.17-.33-2.2-.83-3.08-1.49-.89-.67-1.59-1.52-2.1-2.56C.26 18.93 0 17.7 0 16.28h2.95c0 .98.19 1.83.57 2.54.38.71.89 1.3 1.51 1.76.62.46 1.35.8 2.18 1.02.83.22 1.68.33 2.56.33.7 0 1.41-.07 2.12-.2.71-.13 1.35-.36 1.92-.67.57-.32 1.03-.75 1.38-1.3.35-.55.53-1.25.53-2.1 0-.81-.21-1.47-.64-1.97-.43-.5-1-.91-1.71-1.23-.71-.32-1.52-.57-2.41-.77-.9-.2-1.81-.4-2.74-.61-.93-.21-1.84-.45-2.74-.72-.9-.27-1.7-.63-2.41-1.08-.71-.45-1.28-1.03-1.71-1.74-.43-.71-.64-1.6-.64-2.67 0-1.18.24-2.2.72-3.07.48-.86 1.12-1.58 1.92-2.13.8-.56 1.71-.97 2.72-1.25C7.1.14 8.15 0 9.22 0c1.2 0 2.32.14 3.35.43 1.03.28 1.93.73 2.71 1.35.78.61 1.39 1.38 1.84 2.31.45.93.69 2.04.74 3.33H14.9c-.18-1.69-.78-2.91-1.82-3.66zM29.4 7.02v2.46h-3.38v10.53c0 .33.03.59.08.79.05.2.16.35.31.46.15.11.37.18.64.21s.63.05 1.07.05h1.28v2.46h-2.13c-.72 0-1.34-.05-1.85-.15-.51-.1-.93-.28-1.25-.54-.32-.26-.55-.63-.71-1.12-.15-.48-.23-1.12-.23-1.9V9.48h-2.89V7.02h2.89V1.94h2.79v5.09h3.38zM35.01 7.02v3.58h.07c.68-1.38 1.51-2.4 2.49-3.05.98-.66 2.23-.96 3.74-.92v2.95c-1.12 0-2.07.15-2.85.46-.79.31-1.42.75-1.9 1.35-.48.59-.83 1.31-1.05 2.15-.22.84-.33 1.81-.33 2.9v7.55h-2.79V7.02h2.62zM54.83 22.9c-1.27.96-2.87 1.44-4.79 1.44-1.36 0-2.53-.22-3.53-.66-1-.44-1.83-1.05-2.51-1.84-.68-.79-1.19-1.73-1.53-2.82-.34-1.09-.53-2.29-.57-3.58 0-1.29.2-2.47.59-3.54.39-1.07.95-2 1.66-2.79s1.55-1.4 2.53-1.84c.97-.44 2.04-.66 3.2-.66 1.51 0 2.76.31 3.76.94 1 .62 1.79 1.42 2.4 2.38.6.96 1.02 2.01 1.25 3.15.23 1.14.32 2.22.28 3.25h-12.7c-.02.74.07 1.45.26 2.12.2.67.51 1.26.95 1.77.44.51 1 .92 1.67 1.23.68.31 1.48.46 2.4.46 1.18 0 2.15-.27 2.9-.82.75-.55 1.25-1.38 1.49-2.49h2.76c-.38 1.91-1.2 3.34-2.47 4.3zm-.67-10.89c-.25-.59-.59-1.1-1.02-1.53-.43-.43-.93-.77-1.51-1.02s-1.22-.38-1.92-.38c-.72 0-1.37.13-1.95.38-.58.25-1.08.6-1.49 1.03-.42.44-.74.95-.98 1.53-.24.58-.38 1.2-.43 1.85h9.75c-.05-.65-.2-1.27-.45-1.86zM72.45 22.9c-1.27.96-2.87 1.44-4.79 1.44-1.36 0-2.53-.22-3.53-.66-1-.44-1.83-1.05-2.51-1.84-.68-.79-1.19-1.73-1.53-2.82-.34-1.09-.53-2.29-.57-3.58 0-1.29.2-2.47.59-3.54.39-1.07.95-2 1.66-2.79s1.55-1.4 2.53-1.84c.97-.44 2.04-.66 3.2-.66 1.51 0 2.76.31 3.76.94 1 .62 1.79 1.42 2.4 2.38.6.96 1.02 2.01 1.25 3.15.23 1.14.32 2.22.28 3.25h-12.7c-.02.74.07 1.45.26 2.12.2.67.51 1.26.95 1.77.44.51 1 .92 1.67 1.23.68.31 1.48.46 2.4.46 1.18 0 2.15-.27 2.9-.82.75-.55 1.25-1.38 1.49-2.49h2.76c-.38 1.91-1.2 3.34-2.47 4.3zm-.67-10.89c-.25-.59-.59-1.1-1.02-1.53-.43-.43-.93-.77-1.51-1.02s-1.22-.38-1.92-.38c-.72 0-1.37.13-1.95.38-.58.25-1.08.6-1.49 1.03-.42.44-.74.95-.98 1.53-.24.58-.38 1.2-.43 1.85h9.75c-.05-.65-.2-1.27-.45-1.86zM85.31 7.02v2.46h-3.38v10.53c0 .33.03.59.08.79.05.2.16.35.31.46.15.11.37.18.64.21s.63.05 1.07.05h1.28v2.46h-2.13c-.72 0-1.34-.05-1.85-.15-.51-.1-.93-.28-1.25-.54-.32-.26-.55-.63-.71-1.12-.15-.48-.23-1.12-.23-1.9V9.48h-2.89V7.02h2.89V1.94h2.79v5.09h3.38zM107.79.56l9.15 23.43h-3.45l-2.56-7.05h-9.91l-2.63 7.05h-3.18L104.33.56h3.46zm2.17 13.75-3.9-10.93h-.07l-3.97 10.93h7.94zM131.52 28.78c-1.27 1.38-3.26 2.07-5.97 2.07-.79 0-1.59-.09-2.41-.26-.82-.18-1.56-.46-2.23-.85-.67-.39-1.22-.91-1.66-1.54-.44-.63-.68-1.41-.72-2.33h2.79c.02.5.18.93.48 1.28s.66.63 1.08.85c.43.22.89.38 1.39.48.5.1.98.15 1.44.15.92 0 1.7-.16 2.33-.48.63-.32 1.16-.75 1.58-1.31.42-.56.72-1.23.9-2.02.19-.79.28-1.65.28-2.59V21.1h-.07c-.48 1.05-1.21 1.82-2.18 2.31-.97.49-2.01.74-3.1.74-1.27 0-2.37-.23-3.31-.69-.94-.46-1.73-1.08-2.36-1.85-.63-.78-1.11-1.68-1.43-2.72-.32-1.04-.48-2.14-.48-3.3 0-1.01.13-2.04.39-3.1s.7-2.02 1.31-2.89c.61-.86 1.42-1.58 2.43-2.13 1.01-.56 2.24-.84 3.71-.84 1.07 0 2.06.24 2.95.71.9.47 1.6 1.18 2.1 2.12h.03V7.02h2.63v15.52c0 2.78-.64 4.86-1.9 6.24zm-3.56-7.63c.65-.38 1.17-.89 1.56-1.51.39-.62.68-1.33.87-2.12.19-.79.28-1.58.28-2.36 0-.74-.09-1.48-.26-2.2-.18-.72-.45-1.37-.84-1.95-.38-.58-.88-1.04-1.49-1.39-.61-.35-1.36-.53-2.23-.53-.9 0-1.66.17-2.3.51-.63.34-1.15.79-1.56 1.36-.41.57-.7 1.23-.89 1.97-.19.74-.28 1.52-.28 2.33 0 .77.08 1.53.23 2.3.15.77.42 1.46.79 2.08.37.62.86 1.13 1.48 1.51.61.38 1.38.57 2.3.57s1.69-.19 2.34-.57zM149.63 22.9c-1.27.96-2.87 1.44-4.79 1.44-1.36 0-2.53-.22-3.53-.66-1-.44-1.83-1.05-2.51-1.84-.68-.79-1.19-1.73-1.53-2.82-.34-1.09-.53-2.29-.57-3.58 0-1.29.2-2.47.59-3.54.39-1.07.95-2 1.66-2.79s1.55-1.4 2.53-1.84c.97-.44 2.04-.66 3.2-.66 1.51 0 2.76.31 3.76.94 1 .62 1.79 1.42 2.4 2.38.6.96 1.02 2.01 1.25 3.15.23 1.14.32 2.22.28 3.25h-12.7c-.02.74.07 1.45.26 2.12.2.67.51 1.26.95 1.77.44.51 1 .92 1.67 1.23.68.31 1.48.46 2.4.46 1.18 0 2.15-.27 2.9-.82.75-.55 1.25-1.38 1.49-2.49h2.76c-.38 1.91-1.2 3.34-2.47 4.3zm-.67-10.89c-.25-.59-.59-1.1-1.02-1.53-.43-.43-.93-.77-1.51-1.02s-1.22-.38-1.92-.38c-.72 0-1.37.13-1.95.38-.58.25-1.08.6-1.49 1.03-.42.44-.74.95-.98 1.53-.24.58-.38 1.2-.43 1.85h9.75c-.05-.65-.2-1.27-.45-1.86zM157.87 7.02v2.69h.07c1.16-2.06 3-3.08 5.51-3.08 1.12 0 2.05.15 2.79.46.74.31 1.35.73 1.8 1.28.46.55.78 1.2.97 1.95.19.75.28 1.59.28 2.51v11.16h-2.79V12.5c0-1.05-.31-1.88-.92-2.49-.61-.61-1.46-.92-2.53-.92-.85 0-1.59.13-2.21.39-.62.26-1.14.63-1.56 1.12-.42.48-.73 1.04-.94 1.69-.21.65-.31 1.35-.31 2.12v9.58h-2.79V7.02h2.63zM183.62 9.98c-.7-.59-1.64-.89-2.82-.89-1.01 0-1.85.19-2.53.56-.68.37-1.22.86-1.62 1.48-.41.61-.69 1.32-.87 2.12-.18.8-.26 1.62-.26 2.48 0 .79.09 1.55.28 2.3.19.74.48 1.41.87 1.99.39.58.91 1.04 1.54 1.39.63.35 1.39.53 2.26.53 1.38 0 2.46-.36 3.23-1.08.78-.72 1.25-1.74 1.43-3.05h2.85c-.31 2.1-1.09 3.72-2.35 4.86-1.26 1.14-2.97 1.71-5.14 1.71-1.29 0-2.43-.21-3.43-.62-1-.42-1.83-1.01-2.49-1.77-.67-.77-1.17-1.68-1.51-2.74-.34-1.06-.51-2.23-.51-3.49 0-1.27.16-2.46.49-3.56.33-1.1.83-2.07 1.49-2.89.67-.82 1.5-1.47 2.51-1.94 1.01-.47 2.18-.71 3.51-.71.96 0 1.86.11 2.71.34.84.23 1.59.59 2.23 1.07.65.48 1.18 1.09 1.59 1.82.42.73.68 1.6.79 2.61H185c-.22-1.1-.68-1.93-1.38-2.52zM197.77 26.25c-.33.83-.65 1.53-.97 2.1-.32.57-.67 1.03-1.05 1.39-.38.36-.81.62-1.28.79-.47.16-1.01.25-1.62.25-.33 0-.66-.02-.98-.07-.33-.04-.65-.12-.95-.23v-2.56c.24.11.52.2.84.28.32.08.59.11.8.11.57 0 1.04-.14 1.43-.41.38-.27.67-.66.87-1.16l1.15-2.85-6.73-16.87h3.15l4.95 13.88h.07l4.76-13.88h2.95l-7.39 19.23z"/></g></svg>
        <p class="tracking-wider saigon-text-100"><span class="hidden lg:inline">—</span> LA NUEVA AGENCIA DE MODELOS DE SAIGÓN <span class="hidden lg:inline">→</span> <a href="https://streetagency.xyz/" target="_blank" class="saigon-text-blue hover:underline">WWW.STREETAGENCY.XYZ</a></p> 
        <p class="hidden lg:block" style="font-size: 1.5rem">|</p>
        <p class="tracking-wider saigon-text-100">Seguimos en instagram: <a href="https://www.instagram.com/streetagency.xyz/" class="hover:underline" target="_blank">@streetagency.xyz</a></p>
    </div>
</div>

<script defer>
    if (window.innerWidth < 800) {
        let setHeroHeight = () => {
            let vh = window.innerHeight + 'px';
            let hero = document.querySelector('iframe');
            
            hero.style.height = `calc(${vh} - 15rem)`;
        }

        window.addEventListener('load', setHeroHeight);
    }
</script>

@endsection